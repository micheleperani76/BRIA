{# ==============================================================================
   REFERENTI - Modal dedicati
   Versione: 2.0.0
   Data: 2026-02-12
   
   Contiene:
   - Modal Nuovo Referente (#modalNuovoReferente)
   - Modal Modifica Referente (#modalModificaReferente)
   - Modal Elimina Referente (#modalEliminaReferente)
   
   Estratti da dettaglio.html per modularit&agrave; estrema.
   ============================================================================== #}

{# === MODAL: Nuovo Referente === #}
<div class="modal fade" id="modalNuovoReferente" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-person-plus"></i> Nuovo Referente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form method="post" action="/cliente/{{ cliente.id }}/referente/nuovo">
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Ruolo</label>
                            <select class="form-select" name="ruolo">
                                <option value="">-- Seleziona --</option>
                                <option value="Titolare">Titolare</option>
                                <option value="Amministratore">Amministratore</option>
                                <option value="Commerciale">Commerciale</option>
                                <option value="Fleet Manager">Fleet Manager</option>
                                <option value="HR">HR</option>
                                <option value="Segreteria">Segreteria</option>
                                <option value="Contabilita">Contabilita</option>
                                <option value="Altro">Altro</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Nome</label>
                            <input type="text" class="form-control" name="nome">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Cognome</label>
                            <input type="text" class="form-control" name="cognome" required>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Telefono fisso</label>
                            <input type="tel" class="form-control" name="telefono">
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Interno</label>
                            <input type="text" class="form-control" name="interno">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Cellulare</label>
                            <input type="tel" class="form-control" name="cellulare">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Email principale</label>
                            <input type="email" class="form-control" name="email_principale">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Email secondarie</label>
                            <input type="text" class="form-control" name="email_secondarie">
                        </div>
                        <div class="col-md-8">
                            <label class="form-label">LinkedIn</label>
                            <input type="url" class="form-control" name="linkedin" placeholder="https://linkedin.com/in/...">
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="principale" id="nuovoRefPrincipale">
                                <label class="form-check-label" for="nuovoRefPrincipale">
                                    <i class="bi bi-star text-warning"></i> Principale
                                </label>
                            </div>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Note</label>
                            <textarea class="form-control" name="note" rows="2" placeholder="Note sul referente..."></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
                    <button type="submit" class="btn btn-success"><i class="bi bi-plus"></i> Aggiungi</button>
                </div>
            </form>
        </div>
    </div>
</div>

{# === MODAL: Modifica Referente === #}
<div class="modal fade" id="modalModificaReferente" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"><i class="bi bi-pencil"></i> Modifica Referente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <form method="post" id="formModificaReferente">
                <div class="modal-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label class="form-label">Ruolo</label>
                            <select class="form-select" name="ruolo" id="modRefRuolo">
                                <option value="">-- Seleziona --</option>
                                <option value="Titolare">Titolare</option>
                                <option value="Amministratore">Amministratore</option>
                                <option value="Commerciale">Commerciale</option>
                                <option value="Fleet Manager">Fleet Manager</option>
                                <option value="HR">HR</option>
                                <option value="Segreteria">Segreteria</option>
                                <option value="Contabilita">Contabilita</option>
                                <option value="Altro">Altro</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Nome</label>
                            <input type="text" class="form-control" name="nome" id="modRefNome">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Cognome</label>
                            <input type="text" class="form-control" name="cognome" id="modRefCognome">
                        </div>
                        <div class="col-md-4">
                            <label class="form-label">Telefono fisso</label>
                            <input type="tel" class="form-control" name="telefono" id="modRefTelefono">
                        </div>
                        <div class="col-md-2">
                            <label class="form-label">Interno</label>
                            <input type="text" class="form-control" name="interno" id="modRefInterno">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Cellulare</label>
                            <input type="tel" class="form-control" name="cellulare" id="modRefCellulare">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Email principale</label>
                            <input type="email" class="form-control" name="email_principale" id="modRefEmailPrinc">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Email secondarie</label>
                            <input type="text" class="form-control" name="email_secondarie" id="modRefEmailSec">
                        </div>
                        <div class="col-md-8">
                            <label class="form-label">LinkedIn</label>
                            <input type="url" class="form-control" name="linkedin" id="modRefLinkedin">
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" name="principale" id="modRefPrincipale">
                                <label class="form-check-label" for="modRefPrincipale">
                                    <i class="bi bi-star text-warning"></i> Principale
                                </label>
                            </div>
                        </div>
                        <div class="col-12">
                            <label class="form-label">Note</label>
                            <textarea class="form-control" name="note" id="modRefNote" rows="2"></textarea>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annulla</button>
                    <button type="submit" class="btn btn-primary"><i class="bi bi-check"></i> Salva</button>
                </div>
            </form>
        </div>
    </div>
</div>

{# === MODAL: Elimina Referente === #}
<div class="modal fade" id="modalEliminaReferente" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white py-2">
                <h6 class="modal-title"><i class="bi bi-trash"></i> Elimina Referente</h6>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <form method="post" id="formEliminaReferente">
                <div class="modal-body text-center">
                    <p class="mb-0">Eliminare <strong id="elimRefNome"></strong>?</p>
                </div>
                <div class="modal-footer justify-content-center py-2">
                    <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">No</button>
                    <button type="submit" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i> Si</button>
                </div>
            </form>
        </div>
    </div>
</div>
