{# ================================================
   INDEX - PAGINAZIONE
   Footer con paginazione completa
   Versione: 1.0.0
   ================================================ #}

<!-- Footer paginazione -->
{% if total_pages > 1 %}
<div class="card-footer py-2">
    <div class="d-flex justify-content-between align-items-center">
        <small class="text-muted">
            Mostrando {{ ((page - 1) * per_page) + 1 }}-{{ [page * per_page, total_clienti]|min }} di {{ total_clienti }}
        </small>
        <nav>
            <ul class="pagination pagination-sm mb-0">
                <li class="page-item {% if page <= 1 %}disabled{% endif %}">
                    <a class="page-link" href="?{{ query_string_with('page', 1) }}">&laquo;&laquo;</a>
                </li>
                <li class="page-item {% if page <= 1 %}disabled{% endif %}">
                    <a class="page-link" href="?{{ query_string_with('page', page - 1) }}">&laquo;</a>
                </li>
                
                {% for p in range([1, page - 2]|max, [total_pages + 1, page + 3]|min) %}
                <li class="page-item {% if p == page %}active{% endif %}">
                    <a class="page-link" href="?{{ query_string_with('page', p) }}">{{ p }}</a>
                </li>
                {% endfor %}
                
                <li class="page-item {% if page >= total_pages %}disabled{% endif %}">
                    <a class="page-link" href="?{{ query_string_with('page', page + 1) }}">&raquo;</a>
                </li>
                <li class="page-item {% if page >= total_pages %}disabled{% endif %}">
                    <a class="page-link" href="?{{ query_string_with('page', total_pages) }}">&raquo;&raquo;</a>
                </li>
            </ul>
        </nav>
    </div>
</div>
{% endif %}
